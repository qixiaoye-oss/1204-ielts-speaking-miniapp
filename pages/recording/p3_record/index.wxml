<import src="/templates/loading-progress.wxml"/>
<template is="loadingProgress" data="{{loading, loadProgress}}"/>

<block wx:if="{{list.length > 0}}">
  <progress list="{{list}}" recording="{{status === 1}}" time="{{recordingTime}}"></progress>
  <view class="layout_flex_col" style="margin-top: 15px; gap: 15px;">
    <view class="sentence_cell base-font-color f16 fwb {{index == nowPlayAudioIndex ? 'sel_':''}}" wx:for="{{list}}" wx:key="item">{{item.audioType}}</view>
  </view>
  <view class="btn-page-bottom">
    <view class="btn-group-layout-inline-center">
      <btn-action type="quit" bindtap="cancel">
        <view>放弃</view>
      </btn-action>
      <view class="flex1"></view>
      <block wx:if="{{status === 0}}">
        <btn-action type="audio" bindtap="gatUserAuthor">
          <view>点击开始答题/录音</view>
          <image src="/image/v2/stop_bt.png"></image>
        </btn-action>
      </block>
      <block wx:if="{{status === 1 && (nowPlayAudioIndex < (list.length - 1))}}">
        <btn-action type="audio" bindtap="nextRecoding" class="{{audioStatus === 'play' ? 'btn--dis' : ''}}">
          <view>请回答.../点击下一题</view>
          <image src="/image/v2/go_bt.png"></image>
        </btn-action>
      </block>
      <block wx:if="{{status === 1 && (nowPlayAudioIndex == (list.length - 1))}}">
        <btn-action type="audio" bindtap="stopRecoding" class="{{audioStatus === 'play' ? 'btn--dis' : ''}}">
          <view>请回答最后一题...</view>
          <image src="/image/v2/down_bt.png"></image>
        </btn-action>
      </block>
      <block wx:if="{{status === 2}}">
        <btn-action type="audio" bindtap="stopRecoding" class="btn--dis">
          <view>请回答最后一题...</view>
          <image src="/image/v2/down_bt.png"></image>
        </btn-action>
      </block>
    </view>
  </view>
</block>
<no-data wx:if="{{list.length == 0}}" text="暂无数据"></no-data>